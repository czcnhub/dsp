{
  "title": "Record",
  "type": "object",
  "properties": {
    "title": {
      "title": "Dataset Title",
      "description": "A descriptive title of the dataset",
      "type": "string"
    },
    "datePublished": {
      "title": "Release Date",
      "description": "A future release date for the data file",
      "type": "string",
      "format": "date",
      "options": {
        "max": { "amount": 2, "unit": "year" },
        "min": "today",
        "default": { "amount": 3, "unit": "day" }
      }
    },
    "description": {
      "title": "Abstract or Description",
      "type": "string",
      "description": "Describe measurements, location, and purpose of the dataset",
      "maxLength": 250
    },
    "community": {
      "title": "Community",
      "type": "string",
      "default": "CZNet",
      "const": "CZNet",
      "readOnly": true,
      "options": { "hidden": true }
    },
    "identifiers": {
      "title": "Related Information",
      "type": "array",
      "items": {
        "title": "Related Information",
        "options": { "flat": true, "dropdown": true },
        "oneOf": [
          {
            "type": "object",
            "title": "Publication DOI",
            "properties": {
              "scheme": {
                "type": "string",
                "default": "DOI",
                "const": "DOI",
                "readOnly": true,
                "options": { "hidden": true  }
              },
              "schemeURI": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "identifier": {
                "type": "string",
                "title": "Publication DOI",
                "description": "Enter most relevant publication DOI(s). e.g. '10.016/j.epsl.2009.11.018'",
                "options": {
                  "placeholder": "e.g. '10.016/j.epsl.2009.11.018''"
                }
              },
              "url": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              }
            },
            "required": ["identifier"]
          },
          {
            "type": "object",
            "title": "IGSN",
            "properties": {
              "scheme": {
                "type": "string",
                "default": "IGSN",
                "const": "IGSN",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "schemeURI": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "identifier": {
                "type": "string",
                "title": "IGSN",
                "description": "Provide IGSNs for your samples separated by commas."
              },
              "url": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              }
            },
            "required": ["identifier"]
          },
          {
            "type": "object",
            "title": "Smithsonian Volcano Number",
            "properties": {
              "scheme": {
                "type": "string",
                "default": "SVN",
                "const": "SVN",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "schemeURI": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "identifier": {
                "type": "string",
                "title": "Smithsonian Volcano Number",
                "description": "Provide volcano numbers corresponding to your sample collection site."
              },
              "url": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              }
            },
            "required": ["identifier"]
          },
          {
            "type": "object",
            "title": "Cruise DOI",
            "properties": {
              "scheme": {
                "type": "string",
                "default": "R2R",
                "const": "R2R",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "schemeURI": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              },
              "identifier": {
                "type": "string",
                "title": "Cruise DOI",
                "description": "Provide Cruise DOIs corresponding to your samples."
              },
              "url": {
                "type": "string",
                "default": "",
                "const": "",
                "readOnly": true,
                "options": { "hidden": true }
              }
            },
            "required": ["identifier"]
          }
        ]
      }
    },
    "leadAuthor": {
      "$ref": "#/definitions/LeadAuthor"
    },
    "contributors": {
      "title": "Co-Authors",
      "type": "array",
      "maxItems": 3,
      "items": { "$ref": "#/definitions/Contributor" }
    },
    "type": {
      "title": "Dataset Type",
      "type": "string",
      "default": "Dataset",
      "enum": [
        "Collection",
        "Dataset",
        "Image",
        "InteractiveResource",
        "MovingImage",
        "PhysicalObject",
        "Service",
        "Software",
        "Sound",
        "StillImage",
        "Text"
      ]
    },
    "status": {
      "type": "string",
      "options": { "hidden": true },
      "default": "incomplete",
      "enum": [
        "incomplete",
        "completed"
      ]
    },
    "additionalTypes": {
      "title": "Data Types",
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "Chemistry",
          "Chemistry:ClumpedIsotope",
          "Chemistry:Fluid",
          "Chemistry:Gas",
          "Chemistry:Rock",
          "Chemistry:Sediment",
          "Geochronology",
          "Kinetics",
          "ModelData",
          "Petrography",
          "Petrology",
          "Petrology:Experimental",
          "Petrology:Mineral",
          "SampleInfo",
          "SocialScience",
          "Other"
        ]
      },
      "default": [],
      "uniqueItems": true
    },
    "keywords": {
      "title": "Keywords",
      "type": "array",
      "description": "A list of non-geographic keywords. (e.g. volatiles, ultra-slow spreading ridges, mantle melting, CO2 fluxes)",
      "default": ["CZNet"],
      "minItems": 2,
      "contains": {
        "enum": ["CZNet"]
      },
      "items": {
        "type": "string"
      }
    },
    "language": {
      "type": "string"
    },
    "spatialCoverage": {
      "$ref": "#/definitions/SpatialCoverage"
    },
    "relatedResources": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/RelatedResource"
      }
    },
    "fundings": {
      "title": "Funding Source",
      "type": "array",
      "items": {
        "options": { "flat": true },
        "oneOf": [
          {
            "type": "object",
            "title": "NSF",
            "properties": {
              "identifier": {
                "type": "string"
              },
              "funder": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "readOnly": true,
                    "const": "National Science Foundation",
                    "default": "National Science Foundation"
                  },
                  "alternateName": {
                    "type": "string",
                    "readOnly": true,
                    "const": "NSF",
                    "default": "NSF"
                  },
                  "identifiers": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "scheme": {
                          "type": "string"
                        },
                        "schemeURI": {
                          "type": "string"
                        },
                        "identifier": {
                          "type": "string"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "title": "Identifier"
                    }
                  }
                },
                "title": "Funder"
              },
              "url": {
                "type": "string",
                "format": "uri",
                "readOnly": true,
                "const": "https://ror.org/021nxhr62",
                "default": "https://ror.org/021nxhr62"
              }
            }
          },
          { 
            "type": "object",
            "title": "Other",
            "properties": {
              "identifier": {
                "type": "string"
              },
              "funder": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "alternateName": {
                    "type": "string"
                  },
                  "identifiers": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "scheme": {
                          "type": "string"
                        },
                        "schemeURI": {
                          "type": "string"
                        },
                        "identifier": {
                          "type": "string"
                        },
                        "url": {
                          "type": "string"
                        }
                      },
                      "title": "Identifier"
                    }
                  }
                },
                "title": "Funder"
              },
              "url": {
                "type": "string",
                "format": "uri"
              }
            }
          } 
        ]
      }
    },
    "license": {
      "$ref": "#/definitions/License"
    }
  },
  "required": [
    "datePublished",
    "title",
    "description",
    "keywords",
    "spatialCoverage",
    "additionalTypes",
    "community",
    "type"
  ],
  "definitions": {
    "Affiliation": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "identifiers": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Identifier"
          }
        }
      },
      "title": "Affiliation"
    },
    "Contributor": {
      "type": "object",
      "title": "Co-Author",
      "properties": {
        "type": {
          "type": "string",
          "readOnly": true,
          "const": "coAuthor",
          "default": "coAuthor",
          "options": { "hidden": true }
        },
        "givenName": {
          "title": "First Name",
          "type": "string"
        },
        "additionalName": {
          "title": "Middle Name",
          "type": "string"
        },
        "familyName": {
          "title": "Last Name",
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "identifiers": {
          "type": "array",
          "items": { "$ref": "#/definitions/AuthorIdentifier" }
        },
        "affiliation": {
          "$ref": "#/definitions/Affiliation"
        }
      },
      "required": [
        "familyName",
        "givenName"
      ]
    },
    "LeadAuthor": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "readOnly": true,
          "default": "leadAuthor",
          "const": "leadAuthor",
          "options": { "hidden": true }
        },
        "givenName": {
          "title": "First Name",
          "type": "string"
        },
        "additionalName": {
          "title": "Middle Name",
          "type": "string"
        },
        "familyName": {
          "title": "Last Name",
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "identifiers": {
          "type": "array",
          "items": { "$ref": "#/definitions/AuthorIdentifier" }
        },
        "affiliation": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "identifiers": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Identifier"
              }
            }
          }
        }
      },
      "title": "Lead Author",
      "required": [
        "familyName",
        "givenName",
        "email"
      ]
    },
    "Cordinate": {
      "type": "object",
      "properties": {
        "lat": {
          "type": "number"
        },
        "lon": {
          "type": "number"
        },
        "alt": {
          "type": "number"
        }
      },
      "title": "Cordinate"
    },
    "Feature": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "geometry": {
          "$ref": "#/definitions/Geometry"
        }
      },
      "title": "Feature"
    },
    "FileResponse": {
      "type": "object",
      "properties": {
        "fileName": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      },
      "title": "FileResponse"
    },
    "Geometry": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "Point",
            "LineString",
            "Polygon"
          ]
        },
        "cordinates": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Cordinate"
          }
        }
      },
      "title": "Geometry"
    },
    "Identifier": {
      "type": "object",
      "properties": {
        "scheme": {
          "type": "string"
        },
        "schemeURI": {
          "type": "string"
        },
        "identifier": {
          "type": "string"
        },
        "url": {
          "type": "string"
        }
      },
      "title": "Identifier"
    },
    "AuthorIdentifier": {
      "title": "Identifier",
      "type": "object",
      "properties": {
        "scheme": {
          "type": "string",
          "default": "ORCID",
          "const": "ORCID",
          "readOnly": true,
          "options": { "hidden": true }
        },
        "schemeURI": {
          "type": "string",
          "default": "https://orcid.org/",
          "const": "https://orcid.org/",
          "readOnly": true,
          "options": { "hidden": true }
        },
        "identifier": {
          "title": "ORCID",
          "type": "string",
          "pattern": "/(\\d{4}-){3}\\d{3}(\\d|X)/",
          "options": {
            "placeholder": "e.g. '0000-0001-2345-6789'"
          },
          "errorMessage": {
            "pattern": "must match the ORCID pattern. e.g. '0000-0001-2345-6789'"
          }
        }
      }
    },
    "License": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "alternateName": {
          "type": "string"
        },
        "identifiers": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Identifier"
          }
        }
      },
      "title": "License"
    },
    "RecordFile": {
      "type": "object",
      "properties": {
        "checkum": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "format": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "position": {
          "type": "integer"
        },
        "serverName": {
          "type": "string"
        },
        "size": {
          "type": "integer",
          "format": "int64"
        },
        "uploadDate": {
          "type": "string"
        }
      },
      "title": "RecordFile"
    },
    "RelatedResource": {
      "type": "object",
      "properties": {
        "bibliographicCitation": {
          "type": "string"
        },
        "identifiers": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Identifier"
          }
        },
        "relation": {
          "type": "string",
          "enum": [
            "isCitedBy",
            "cites",
            "isSupplementTo",
            "isSupplementedBy",
            "isContinuedBy",
            "continues",
            "isDescribedBy",
            "describes",
            "hasMetadata",
            "isMetadataFor",
            "isNewVersionOf",
            "isPreviousVersionOf",
            "isPartOf",
            "hasPart",
            "isReferencedBy",
            "references",
            "isDocumentedBy",
            "documents",
            "isCompiledBy",
            "compiles",
            "isVariantFormOf",
            "isOrignialFormOf",
            "isIdenticalTo",
            "isReviewedBy",
            "reviews",
            "isDerivedFrom",
            "isSourceOf",
            "requires",
            "isRequiredBy",
            "isObsoletedBy",
            "obsoletes",
            "isPublishedIn"
          ]
        }
      },
      "title": "RelatedResource"
    },
    "SpatialCoverage": {
      "title": "Spatial Coverage Information",
      "type": "object",
      "properties": {
        "coverage": {
          "title": "Spatial Coverage",
          "type": "string",
          "enum": [
            "Global",
            "Regional (Continents, Oceans)",
            "Space/Planetary"
          ]
        },
        "keywords": {
          "title": "Geographic Keywords",
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Provide appropriate geographic keywords for searches. (e.g. Pacific Ocean, Aleutian Islands)"
        }
      },
      "required": ["coverage"]
    }
  }
}